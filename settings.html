<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style.css" />
    <title>Character</title>
  </head>
  <body>
    <header>
      <div class="toolbar">
        <div>
          <p>Settings</p>
        </div>
        <div class="icons">
          <img src="/pictures/home.svg" alt="home" class="icons1" />
          <img src="/pictures/character.svg" alt="character" class="icons2" />
          <img src="/pictures/settings.svg" alt="settings" class="icons3" />
        </div>
      </div>
      <div>
        <hr />
      </div>
    </header>
    <main>
      <div class="settings-container">
        <p>Player Name:</p>
        <p class="player-name">Name</p>
        <button class="edit-button" data-action="edit">Edit</button>
      </div>
    </main>




    <script>
      window.addEventListener("DOMContentLoaded", () => {
        let characters = JSON.parse(localStorage.getItem("characters")) || [];
        let lastCharacter = characters[characters.length - 1]; // берем последнего введённого

        if (lastCharacter) {
          document.querySelector(".player-name").textContent = lastCharacter;
        }
      });

    //   header
      document.querySelector(".icons1").onclick = function () {
        location.href = "homepage.html";
      };
      document.querySelector(".icons2").onclick = function () {
        location.href = "character.html";
      };
      document.querySelector(".icons3").onclick = function () {
        location.href = "settings.html";
      };

      let editButton = document.querySelector(".edit-button");
      let nameElement = document.querySelector(".player-name");

//  change name
      editButton.addEventListener("click", () => {
        let input = document.createElement("input");
        input.type = "text";
        input.value = nameElement.textContent;

        nameElement.replaceWith(input);
        input.focus();

        input.addEventListener("blur", () => {
          nameElement.textContent = input.value;
          input.replaceWith(nameElement);
        });

        input.addEventListener("keypress", (e) => {
          if (e.key === "Enter") {
            input.blur();
          }
        });
      });



    </script>
  </body>
</html>
